{
  "id": "workspace",
  "name": "Workspace",
  "description": "Manage workspace settings, configuration, and macOS permissions",
  "routing": {
    "keywords": ["workspace", "settings", "config", "system"]
  },
  "tools": [
    {
      "id": "get_config",
      "name": "Get Workspace Config",
      "description": "Returns the full workspace configuration",
      "risk_level": "Safe",
      "input_schema": {
        "type": "object",
        "properties": {},
        "additionalProperties": false
      },
      "output_schema": {
        "type": "object",
        "description": "Workspace configuration document",
        "additionalProperties": true
      }
    },
    {
      "id": "update_config",
      "name": "Update Workspace Config",
      "description": "Updates the workspace configuration. Preserves version, workspace_id, and created_at.",
      "risk_level": "Confirm",
      "input_schema": {
        "type": "object",
        "properties": {
          "config": {
            "type": "object",
            "description": "The full WorkspaceConfig to apply"
          }
        },
        "required": ["config"],
        "additionalProperties": false
      },
      "output_schema": {
        "type": "object",
        "description": "Updated workspace configuration document",
        "additionalProperties": true
      }
    },
    {
      "id": "get_permissions",
      "name": "Get Permissions",
      "description": "Returns macOS permission statuses (accessibility, screen-recording, automation)",
      "risk_level": "Safe",
      "input_schema": {
        "type": "object",
        "properties": {},
        "additionalProperties": false
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "platform": { "type": "string" },
          "permissions": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": { "type": "string" },
                "label": { "type": "string" },
                "granted": { "type": "boolean" },
                "required": { "type": "boolean" }
              },
              "required": ["id", "label", "granted", "required"],
              "additionalProperties": false
            }
          }
        },
        "required": ["platform", "permissions"],
        "additionalProperties": false
      }
    },
    {
      "id": "open_permission",
      "name": "Open Permission Settings",
      "description": "Opens macOS System Settings for the given permission id",
      "risk_level": "Safe",
      "input_schema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Permission ID (accessibility, screen-recording, automation)"
          }
        },
        "required": ["id"],
        "additionalProperties": false
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "status": { "type": "string" }
        }
      }
    }
  ]
}
