// This file is auto-generated by @hey-api/openapi-ts

import type { Options as ClientOptions, TDataShape, Client } from '@hey-api/client-fetch';
import type { StatusData, StatusResponse, StreamEventsData, InvokeToolData, InvokeToolError, CallbackData, CallbackError, PollFlowData, PollFlowResponse, PollFlowError, StartFlowData, StartFlowResponse2, StartFlowError, DeleteTokensData, DeleteTokensError, GetTokensData, GetTokensError, SetTokensData, SetTokensError, SessionCommandData, SessionContextData, SessionContextResponse, SessionContextError, ListApplicationsData, ListApplicationsResponse, ListApplicationsError, OpenApplicationData, OpenApplicationResponse2, OpenApplicationError, ListExtensionsData, ListExtensionsResponse, OpenExtensionData, OpenExtensionError } from './types.gen';
import { client as _heyApiClient } from './client.gen';

export type Options<TData extends TDataShape = TDataShape, ThrowOnError extends boolean = boolean> = ClientOptions<TData, ThrowOnError> & {
    /**
     * You can provide a client instance returned by `createClient()` instead of
     * individual options. This might be also useful if you want to implement a
     * custom client.
     */
    client?: Client;
    /**
     * You can pass arbitrary values through the `meta` object. This can be
     * used to access values that aren't defined as part of the SDK function.
     */
    meta?: Record<string, unknown>;
};

export const status = <ThrowOnError extends boolean = false>(options?: Options<StatusData, ThrowOnError>) => {
    return (options?.client ?? _heyApiClient).get<StatusResponse, unknown, ThrowOnError>({
        url: '/browser/status',
        ...options
    });
};

/**
 * Subscribe to real-time server events via SSE.
 */
export const streamEvents = <ThrowOnError extends boolean = false>(options?: Options<StreamEventsData, ThrowOnError>) => {
    return (options?.client ?? _heyApiClient).get<unknown, unknown, ThrowOnError>({
        url: '/events',
        ...options
    });
};

/**
 * POST /extension/{extension_id}/invoke/{tool_id}
 * Looks up the extension and tool by ID, executes the tool with the provided
 * JSON input, and returns a standardised `{ ok, data }` / `{ ok, error }` envelope.
 */
export const invokeTool = <ThrowOnError extends boolean = false>(options: Options<InvokeToolData, ThrowOnError>) => {
    return (options.client ?? _heyApiClient).post<unknown, InvokeToolError, ThrowOnError>({
        url: '/extension/{extension_id}/invoke/{tool_id}',
        ...options,
        headers: {
            'Content-Type': 'application/json',
            ...options?.headers
        }
    });
};

export const callback = <ThrowOnError extends boolean = false>(options: Options<CallbackData, ThrowOnError>) => {
    return (options.client ?? _heyApiClient).get<unknown, CallbackError, ThrowOnError>({
        url: '/oauth/callback',
        ...options
    });
};

export const pollFlow = <ThrowOnError extends boolean = false>(options: Options<PollFlowData, ThrowOnError>) => {
    return (options.client ?? _heyApiClient).get<PollFlowResponse, PollFlowError, ThrowOnError>({
        url: '/oauth/poll',
        ...options
    });
};

export const startFlow = <ThrowOnError extends boolean = false>(options: Options<StartFlowData, ThrowOnError>) => {
    return (options.client ?? _heyApiClient).post<StartFlowResponse2, StartFlowError, ThrowOnError>({
        url: '/oauth/start',
        ...options,
        headers: {
            'Content-Type': 'application/json',
            ...options?.headers
        }
    });
};

export const deleteTokens = <ThrowOnError extends boolean = false>(options: Options<DeleteTokensData, ThrowOnError>) => {
    return (options.client ?? _heyApiClient).delete<unknown, DeleteTokensError, ThrowOnError>({
        url: '/oauth/tokens/{ext}/{provider}',
        ...options
    });
};

export const getTokens = <ThrowOnError extends boolean = false>(options: Options<GetTokensData, ThrowOnError>) => {
    return (options.client ?? _heyApiClient).get<unknown, GetTokensError, ThrowOnError>({
        url: '/oauth/tokens/{ext}/{provider}',
        ...options
    });
};

export const setTokens = <ThrowOnError extends boolean = false>(options: Options<SetTokensData, ThrowOnError>) => {
    return (options.client ?? _heyApiClient).post<unknown, SetTokensError, ThrowOnError>({
        url: '/oauth/tokens/{ext}/{provider}',
        ...options,
        headers: {
            'Content-Type': 'application/json',
            ...options?.headers
        }
    });
};

/**
 * Process a user command. Returns an SSE stream of part.updated, context, and done events.
 */
export const sessionCommand = <ThrowOnError extends boolean = false>(options: Options<SessionCommandData, ThrowOnError>) => {
    return (options.client ?? _heyApiClient).post<unknown, unknown, ThrowOnError>({
        url: '/sessions/command',
        ...options,
        headers: {
            'Content-Type': 'application/json',
            ...options?.headers
        }
    });
};

export const sessionContext = <ThrowOnError extends boolean = false>(options?: Options<SessionContextData, ThrowOnError>) => {
    return (options?.client ?? _heyApiClient).get<SessionContextResponse, SessionContextError, ThrowOnError>({
        url: '/sessions/context',
        ...options
    });
};

export const listApplications = <ThrowOnError extends boolean = false>(options?: Options<ListApplicationsData, ThrowOnError>) => {
    return (options?.client ?? _heyApiClient).get<ListApplicationsResponse, ListApplicationsError, ThrowOnError>({
        url: '/workspace/extension/system/applications',
        ...options
    });
};

export const openApplication = <ThrowOnError extends boolean = false>(options: Options<OpenApplicationData, ThrowOnError>) => {
    return (options.client ?? _heyApiClient).post<OpenApplicationResponse2, OpenApplicationError, ThrowOnError>({
        url: '/workspace/extension/system/applications/open',
        ...options,
        headers: {
            'Content-Type': 'application/json',
            ...options?.headers
        }
    });
};

export const listExtensions = <ThrowOnError extends boolean = false>(options?: Options<ListExtensionsData, ThrowOnError>) => {
    return (options?.client ?? _heyApiClient).get<ListExtensionsResponse, unknown, ThrowOnError>({
        url: '/workspace/extensions',
        ...options
    });
};

export const openExtension = <ThrowOnError extends boolean = false>(options: Options<OpenExtensionData, ThrowOnError>) => {
    return (options.client ?? _heyApiClient).post<unknown, OpenExtensionError, ThrowOnError>({
        url: '/workspace/extensions/open',
        ...options,
        headers: {
            'Content-Type': 'application/json',
            ...options?.headers
        }
    });
};