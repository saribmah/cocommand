// This file is auto-generated by @hey-api/openapi-ts

export type ApiErrorBody = {
    code: string;
    message: string;
};

export type ApiErrorResponse = {
    error: ApiErrorBody;
    ok: boolean;
};

export type ApiSessionContext = {
    ended_at?: number | null;
    session_id: string;
    started_at: number;
    workspace_id: string;
};

export type ApplicationInfo = {
    bundleId?: string | null;
    icon?: string | null;
    id: string;
    name: string;
    path: string;
};

export type ApplicationsResponse = {
    applications: Array<ApplicationInfo>;
    count: number;
};

export type BrowserStatus = {
    connected: boolean;
};

export type CoreEvent = {
    payload: SessionPartUpdatedPayload;
    type: 'SessionPartUpdated';
} | {
    payload: SessionContextPayload;
    type: 'SessionContextUpdated';
};

export type ExtensionInfo = {
    id: string;
    kind: string;
    name: string;
    status: string;
    tags: Array<string>;
    tools: Array<ExtensionToolInfo>;
    view?: null | ExtensionViewInfo;
};

export type ExtensionPart = PartBase & {
    extensionId: string;
    kind?: string | null;
    name: string;
    source?: null | FilePartSourceText;
};

export type ExtensionToolInfo = {
    description?: string | null;
    id: string;
    input_schema: unknown;
    name: string;
};

export type ExtensionViewInfo = {
    entry: string;
    label: string;
    popout?: null | ExtensionViewPopoutInfo;
};

export type ExtensionViewPopoutInfo = {
    height: number;
    title: string;
    width: number;
};

export type FilePart = PartBase & {
    base64: string;
    mediaType: string;
    name?: string | null;
    source?: null | FilePartSource;
};

export type FilePartFileSource = {
    path: string;
    text: FilePartSourceText;
};

export type FilePartSource = (FilePartFileSource & {
    type: 'file';
}) | (FilePartSymbolSource & {
    type: 'symbol';
});

export type FilePartSourceText = {
    end: number;
    start: number;
    value: string;
};

export type FilePartSymbolSource = {
    kind: number;
    name: string;
    path: string;
    text: FilePartSourceText;
};

export type MessagePart = (TextPart & {
    type: 'text';
}) | (ReasoningPart & {
    type: 'reasoning';
}) | (ToolPart & {
    type: 'tool';
}) | (ExtensionPart & {
    type: 'extension';
}) | (FilePart & {
    type: 'file';
});

export type OpenApplicationRequest = {
    id: string;
};

export type OpenApplicationResponse = {
    id: string;
    opened: boolean;
    status: string;
};

export type OpenExtensionRequest = {
    id: string;
};

export type PartBase = {
    id: string;
    messageId: string;
    sessionId: string;
};

export type PollResponse = {
    authorization_code?: string | null;
    status: string;
};

export type ReasoningPart = PartBase & {
    text: string;
};

export type RecordMessageRequest = {
    parts: Array<SessionCommandInputPart>;
};

export type RecordMessageResponse = {
    context: ApiSessionContext;
    reply_parts: Array<MessagePart>;
};

export type SessionCommandExtensionPartInput = {
    extensionId: string;
    kind?: string | null;
    name: string;
    source?: null | FilePartSourceText;
};

export type SessionCommandFilePartInput = {
    entryType?: string | null;
    name: string;
    path: string;
    source?: null | FilePartSourceText;
};

export type SessionCommandInputPart = (SessionCommandTextPartInput & {
    type: 'text';
}) | (SessionCommandExtensionPartInput & {
    type: 'extension';
}) | (SessionCommandFilePartInput & {
    type: 'file';
});

export type SessionCommandTextPartInput = {
    text: string;
};

export type SessionContext = {
    ended_at?: number | null;
    session_id: string;
    started_at: number;
    workspace_id: string;
};

export type SessionContextPayload = {
    context: SessionContext;
    request_id: string;
};

export type SessionPartUpdatedPayload = {
    message_id: string;
    part: MessagePart;
    part_id: string;
    request_id: string;
    session_id: string;
};

export type StartFlowRequest = {
    state: string;
};

export type StartFlowResponse = {
    redirect_uri: string;
};

export type TextPart = PartBase & {
    text: string;
};

export type ToolPart = PartBase & {
    callId: string;
    metadata?: {
        [key: string]: unknown;
    } | null;
    state: ToolState;
    tool: string;
};

export type ToolState = (ToolStatePending & {
    status: 'pending';
}) | (ToolStateRunning & {
    status: 'running';
}) | (ToolStateCompleted & {
    status: 'completed';
}) | (ToolStateError & {
    status: 'error';
});

export type ToolStateCompleted = {
    attachments?: Array<FilePart> | null;
    input: {
        [key: string]: unknown;
    };
    metadata: {
        [key: string]: unknown;
    };
    output: string;
    time: ToolStateTimeCompleted;
    title: string;
};

export type ToolStateError = {
    error: string;
    input: {
        [key: string]: unknown;
    };
    metadata?: {
        [key: string]: unknown;
    } | null;
    time: ToolStateTimeRange;
};

export type ToolStatePending = {
    input: {
        [key: string]: unknown;
    };
    raw: string;
};

export type ToolStateRunning = {
    input: {
        [key: string]: unknown;
    };
    metadata?: {
        [key: string]: unknown;
    } | null;
    time: ToolStateTimeStart;
    title?: string | null;
};

export type ToolStateTimeCompleted = {
    compacted?: number | null;
    end: number;
    start: number;
};

export type ToolStateTimeRange = {
    end: number;
    start: number;
};

export type ToolStateTimeStart = {
    start: number;
};

export type StatusData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/browser/status';
};

export type StatusResponses = {
    200: BrowserStatus;
};

export type StatusResponse = StatusResponses[keyof StatusResponses];

export type StreamEventsData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/events';
};

export type StreamEventsResponses = {
    /**
     * SSE stream of CoreEvent payloads
     */
    200: unknown;
};

export type InvokeToolData = {
    body: unknown;
    path: {
        /**
         * Extension identifier
         */
        extension_id: string;
        /**
         * Tool identifier
         */
        tool_id: string;
    };
    query?: never;
    url: '/extension/{extension_id}/invoke/{tool_id}';
};

export type InvokeToolErrors = {
    400: ApiErrorResponse;
    404: ApiErrorResponse;
    500: ApiErrorResponse;
};

export type InvokeToolError = InvokeToolErrors[keyof InvokeToolErrors];

export type InvokeToolResponses = {
    /**
     * Tool execution result envelope with { ok, data }
     */
    200: unknown;
};

export type CallbackData = {
    body?: never;
    path?: never;
    query: {
        code: string;
        state: string;
    };
    url: '/oauth/callback';
};

export type CallbackErrors = {
    400: ApiErrorResponse;
};

export type CallbackError = CallbackErrors[keyof CallbackErrors];

export type CallbackResponses = {
    /**
     * HTML page confirming authorization success
     */
    200: unknown;
};

export type PollFlowData = {
    body?: never;
    path?: never;
    query: {
        state: string;
        wait?: number;
    };
    url: '/oauth/poll';
};

export type PollFlowErrors = {
    400: ApiErrorResponse;
};

export type PollFlowError = PollFlowErrors[keyof PollFlowErrors];

export type PollFlowResponses = {
    200: PollResponse;
};

export type PollFlowResponse = PollFlowResponses[keyof PollFlowResponses];

export type StartFlowData = {
    body: StartFlowRequest;
    path?: never;
    query?: never;
    url: '/oauth/start';
};

export type StartFlowErrors = {
    409: ApiErrorResponse;
};

export type StartFlowError = StartFlowErrors[keyof StartFlowErrors];

export type StartFlowResponses = {
    200: StartFlowResponse;
};

export type StartFlowResponse2 = StartFlowResponses[keyof StartFlowResponses];

export type DeleteTokensData = {
    body?: never;
    path: {
        /**
         * Extension identifier
         */
        ext: string;
        /**
         * OAuth provider name
         */
        provider: string;
    };
    query?: never;
    url: '/oauth/tokens/{ext}/{provider}';
};

export type DeleteTokensErrors = {
    500: ApiErrorResponse;
};

export type DeleteTokensError = DeleteTokensErrors[keyof DeleteTokensErrors];

export type DeleteTokensResponses = {
    /**
     * Tokens deleted successfully
     */
    200: unknown;
};

export type GetTokensData = {
    body?: never;
    path: {
        /**
         * Extension identifier
         */
        ext: string;
        /**
         * OAuth provider name
         */
        provider: string;
    };
    query?: never;
    url: '/oauth/tokens/{ext}/{provider}';
};

export type GetTokensErrors = {
    404: ApiErrorResponse;
    500: ApiErrorResponse;
};

export type GetTokensError = GetTokensErrors[keyof GetTokensErrors];

export type GetTokensResponses = {
    /**
     * Stored token JSON
     */
    200: unknown;
};

export type SetTokensData = {
    body: unknown;
    path: {
        /**
         * Extension identifier
         */
        ext: string;
        /**
         * OAuth provider name
         */
        provider: string;
    };
    query?: never;
    url: '/oauth/tokens/{ext}/{provider}';
};

export type SetTokensErrors = {
    500: ApiErrorResponse;
};

export type SetTokensError = SetTokensErrors[keyof SetTokensErrors];

export type SetTokensResponses = {
    /**
     * Tokens stored successfully
     */
    200: unknown;
};

export type SessionCommandData = {
    body: RecordMessageRequest;
    path?: never;
    query?: never;
    url: '/sessions/command';
};

export type SessionCommandResponses = {
    /**
     * SSE stream of session events
     */
    200: unknown;
};

export type SessionContextData = {
    body?: never;
    path?: never;
    query?: {
        session_id?: string | null;
        limit?: number | null;
    };
    url: '/sessions/context';
};

export type SessionContextErrors = {
    400: ApiErrorResponse;
};

export type SessionContextError = SessionContextErrors[keyof SessionContextErrors];

export type SessionContextResponses = {
    200: ApiSessionContext;
};

export type SessionContextResponse = SessionContextResponses[keyof SessionContextResponses];

export type ListApplicationsData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/workspace/extension/system/applications';
};

export type ListApplicationsErrors = {
    500: ApiErrorResponse;
};

export type ListApplicationsError = ListApplicationsErrors[keyof ListApplicationsErrors];

export type ListApplicationsResponses = {
    200: ApplicationsResponse;
};

export type ListApplicationsResponse = ListApplicationsResponses[keyof ListApplicationsResponses];

export type OpenApplicationData = {
    body: OpenApplicationRequest;
    path?: never;
    query?: never;
    url: '/workspace/extension/system/applications/open';
};

export type OpenApplicationErrors = {
    400: ApiErrorResponse;
    404: ApiErrorResponse;
};

export type OpenApplicationError = OpenApplicationErrors[keyof OpenApplicationErrors];

export type OpenApplicationResponses = {
    200: OpenApplicationResponse;
};

export type OpenApplicationResponse2 = OpenApplicationResponses[keyof OpenApplicationResponses];

export type ListExtensionsData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/workspace/extensions';
};

export type ListExtensionsResponses = {
    200: Array<ExtensionInfo>;
};

export type ListExtensionsResponse = ListExtensionsResponses[keyof ListExtensionsResponses];

export type OpenExtensionData = {
    body: OpenExtensionRequest;
    path?: never;
    query?: never;
    url: '/workspace/extensions/open';
};

export type OpenExtensionErrors = {
    400: ApiErrorResponse;
    404: ApiErrorResponse;
};

export type OpenExtensionError = OpenExtensionErrors[keyof OpenExtensionErrors];

export type OpenExtensionResponses = {
    /**
     * Tool output from the extension's open tool
     */
    200: unknown;
};

export type ClientOptions = {
    baseUrl: `${string}://${string}` | (string & {});
};